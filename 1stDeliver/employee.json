EMPLOYEE ENDPOINTS


- Um empregado faz login no site
utilizando o protocolo HTTP, verbo POST,
para o sitio: /appmonitor/api/auth/login

Resposta enviada para este recurso segue o formato JSON: 

{
    "username": "customer1",
    "password": "password"
}

Resposta devolvida para este recurso segue o formato JSON:
{
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
}


- Um empregado atualiza a sua password do site
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/auth/set-password

Resposta enviada para este recurso segue o formato JSON: 

{
    "oldPassword": "old-weak-password", 
    "newPassword": "my-new-super-strong-password", 
    "confirmPassword": "my-new-super-strong-password",
}

Resposta devolvida para este recurso segue o formato JSON:
{
    "token": "sInR5cCI6IkpXVCJ9asAJOygdhb81bnAJ8b1jas99Y"
}


- Um empregado consulta os seus dados pessoais,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/employee/{employeeUsername}

Resposta devolvida por este recurso segue o formato JSON: 

{
    "username": "employee1",
    "name": "Employee 1",
    "email": "employe1@mail.com",
    "address": "Rua do Employee 1",
    "phone": "912345678",
    "warehouse": {
        "name": "Warehouse 1",
        "location": "Rua do Warehouse 1",
    }
}

- Um empregado dá update aos seus dados pessoais,
utilizando o protocolo HTTP, verbo PUT,
para o sitio: /appmonitor/api/employee/{employeeUsername}

Resposta enviada para este recurso segue o formato JSON: 

{
    "username": "employee1",
    "name": "Employee 1 UPDATED",
    "email": "employee1@mail.com",
    "address": "Rua do Employee 1",
    "phone": "912345678",
}

Resposta devolvida por este recurso segue o formato JSON:

{
    "username": "employee1",
    "name": "Employee 1 UPDATED",
    "email": "employee1@mail.com",
    "address": "Rua do Employee 1",
    "phone": "912345678",
    "warehouse": {
        "name": "Warehouse 1",
        "location": "Rua do Warehouse 1",
    }
}


- Um empregado consulta os clientes da empresa para associar a uma encomenda,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/customer

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "username": "customer1",
        "name": "Customer 1",
        "ordersId": [
            600,
            601
        ]
    },
    {
        "username": "customer2",
        "name": "Customer 2",
        "ordersId": [
            602
        ]
    }
]


- Um empregado consulta os produtos disponiveis da empresa
(que ainda não foram associadas a um volume)
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/product/available

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 1,
        "name": "Product 1",
        "quantity": 10,
        "description": "Product 1 description",
        "photo": "www.photo.com",
        "mandatoryPackage":
        {
            "id": 1,
            "name": "Isotermic"
        }
    },
    {
        "id":2,
        "name": "Product 2",
        "quantity": 2,
        "description": "Product 2 description",
        "photo": "www.photo.com",
        "mandatoryPackage": {
            "id": 2,
            "name": "Card Box",
        }
    },
    {
        "id":3,
        "name": "Product 3",
        "quantity": 1,
        "description": "Product 3 description",
        "photo": "www.photo.com",
        "mandatorySensors": [  
            {
                "id": 1,
                "name": "Temperature",
            },
            {
                "id": 2,
                "name": "Luminosity",
            }
        ]
    },
    {
        "id":4,
        "name": "Product 4",
        "quantity": 1,
        "description": "Product 2 description",
        "photo": "www.photo.com",
        "mandatoryPackage": {
            "id": 2,
            "name": "Card Box",
        },
        "package": {
            "id": 4,
            "packageType": {
                "id": 2,
                "name": "Card Box",
            },
            "size": "S"
        }
    }
]


- Um empregado consulta os produtos da empresa 
que ainda não foram associados a um volume,
e que precisam de uma embalagem obrigatória,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/product/needs-package

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 1,
        "name": "Product 1",
        "quantity": 10,
        "description": "Product 1 description",
        "photo": "www.photo.com",
        "mandatoryPackage":
        {
            "id": 1,
            "name": "Isotermic",
        }
    },
    {
        "id":2,
        "name": "Product 2",
        "quantity": 2,
        "description": "Product 2 description",
        "photo": "www.photo.com",
        "mandatoryPackage": {
            "id": 2,
            "name": "Card Box",
        }
    }
]


- Um empregado consulta os produtos da empresa 
que ainda não foram associados a um volume,
e não precisam de embalagem obrigatoria
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/product/ready-for-volume

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id":3,
        "name": "Product 3",
        "quantity": 1,
        "description": "Product 3 description",
        "photo": "www.photo.com",
        "mandatorySensors": [  
            {
                "id": 1,
                "name": "Temperature",
            },
            {
                "id": 2,
                "name": "Luminosity",
            }
        ]
    }
]


- Um empregado consulta as embalagens disponiveis da empresa 
(que ainda não foram associadas a um volume), 
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/package/available

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 9999,
        "packageTypeName": "Caixa Isotermica",
        "size": "S",
        "products": [
            {
                "id": 1,
                "name": "Product 1",
            },
            {
                "id": 2,
                "name": "Product 2",
            }
        ]
    },
    {
        "id": 9988,
        "packageTypeName": "Caixa de Cartão",
        "size": "M",
        "products": [
            {
                "id": 3,
                "name": "Product 3",
            },
            {
                "id": 4,
                "name": "Product 4",
            }
        ]
    },
    {
        "id": 9977,
        "packageTypeName": "Plastico com Bolhas",
        "size": "L",
        "products": []
    }
]


// NAO FAZ SENTIDO PK PODEMOS ADICIONAR PRODUTOS A EMBALAGENS QUE JÁ TÊM PRODUTOS

// - Um empregado consulta as embalagens disponiveis da empresa
// que ainda não foram associadas a um volume,
// e que ainda não têm produtos associados,
// utilizando o protocolo HTTP, verbo GET,
// para o sitio: /appmonitor/api/package/available-for-packaging

// Resposta devolvida por este recurso segue o formato JSON: 

// [
//     {
//         "id": 9977,
//         "packageTypeName": "Plastico com Bolhas",
//         "size": "L",
//         "products": []
//     }
// ]


- Um empregado consulta as embalagens disponiveis da empresa
que ainda não foram associadas a um volume,
e que têm produtos associados,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/package/ready-for-volume

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 9999,
        "packageTypeName": "Caixa Isotermica",
        "size": "S",
        "products": [
            {
                "id": 1,
                "name": "Product 1",
            },
            {
                "id": 2,
                "name": "Product 2",
            }
        ]
    },
    {
        "id": 9988,
        "packageTypeName": "Caixa de Cartão",
        "size": "M",
        "products": [
            {
                "id": 3,
                "name": "Product 3",
            },
            {
                "id": 4,
                "name": "Product 4",
            }
        ]
    }
]


- Um empregado consulta os tipos de sensores disponiveis na empresa
para poder criar um novo sensor,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/sensortype

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 1,
        "name": "Temperature",
    },
    {
        "id": 2,
        "name": "Luminosity",
    },
    {
        "id": 3,
        "name": "Movement",
    }
]

// NÃO FAZ SENTIDO ESTE ENDPOINT, PORQUE A ENCOMENDA APENAS É CRIADA QUANDO 
// EXISTIR PELO MENOS UM VOLUME 

// - Um empregado criar uma nova encomenda,
// utilizando o protocolo HTTP, verbo POST,
// para o sitio: /appmonitor/api/order

// Resposta enviada para este recurso segue o formato JSON: 

// {
//     "id": 600,
//     "customerUsername": "customer1",
//     "volumesId": null
// }

// Resposta devolvida por este recurso segue o formato JSON: 

// {
//     "id": 600,
//     "customerUsername": "customer1",
//     "volumesId": null
// }


- Um empregado cria um novo volume associado a uma encomenda
(a encomenda é criada automaticamente se ainda não existir,
se existir envia o id da encomenda a que quer associar o volume),
utilizando o protocolo HTTP, verbo POST,
para o sitio: /appmonitor/api/volume

Resposta enviada para este recurso segue o formato JSON: 

{
    "productId": 3
}

OR
    
{
    "packageId": 9999
}

OR

{
    "orderId": 25,
    "productId": 3
}

OR

{
    "orderId": 25,
    "packageId": 9999
}

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 10,
    "productId": 3, 
    "orderId": 26,
}

OR

{
    "id": 10,
    "packageId": 9999, 
    "orderId": 26,
}


- Um empregado associa varios produtos (que tem um mandatoryPackage) a uma embalagem,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/package/{packageId}/add-products

Resposta enviada para este recurso segue o formato JSON: 

{
    "productsId": [
        1
    ]
}

Resposta devolvida por este recurso segue o formato JSON: 

{
    //Devolve o package com os produtos associados
    "id": 9999,
    "packageTypeName": "Isotermic",
    "size": "S",
    "products": [
        {
            "id": 1,
            "name": "Product 1",
        }
    ]
}


- Um empregado remove varios produtos de uma embalagem,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/package/{packageId}/remove-products

Resposta enviada para este recurso segue o formato JSON: 

{
    "productsId": [
        1
    ]
}

Resposta devolvida por este recurso segue o formato JSON: 

{
    //Devolve o package com os produtos associados
    "id": 9999,
    "packageTypeName": "Isotermic",
    "size": "S",
    "products": []
}


- Um empregado associa um produto (que não tem mandatoryPackage) a um volume,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/volume/{volumeId}/associate-product/{productId}

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 10,
    "productId": 3,
    "orderId": 26,
    "sensorsId": []
}


- Um empregado desassocia um produto de um volume,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/volume/{volumeId}/dissociate-product/{productId}

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 10,
    "orderId": 26,
    "sensorsId": []
}


- Um empregado associa uma embalagem (tem de ter produtos) a um volume,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/volume/{volumeId}/associate-package/{packageId}

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 11,
    "packageId": 9999, 
    "orderId": 600,
    "sensorsId": []
}


- Um empregado desassocia uma embalagem de um volume,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/volume/{volumeId}/dissociate-package/{packageId}

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 11,
    "orderId": 600,
    "sensorsId": []
}


- Um empregado verifica quais os sensores obrigatorios naquele volume,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/volume/{volumeId}/mandatory-sensors

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 1,
        "name": "Temperature",
        "unit": "ºC"
    }
]


- Um empregado cria um novo sensor e associa a um volume,
utilizando o protocolo HTTP, verbo POST,
para o sitio: /appmonitor/api/sensor

Resposta enviada para este recurso segue o formato JSON: 

{
    "sensorTypeId": 1,
    "volumeId": 10
}

Resposta devolvida por este recurso segue o formato JSON: 

{
    //Devolve o volume com aquele sensor associado
    "id": 10,
    "productId": 3,
    "orderId": 26,
    "sensorsId": [
        1005
    ]
}

- Um empregado verifica quais os sensores já colocados naquele volume,
utilizando o protocolo HTTP, verbo GET,
para o sitio: /appmonitor/api/volume/{volumeId}/sensors

Resposta devolvida por este recurso segue o formato JSON: 

[
    {
        "id": 1005,
        "sensorType": {
            "id": 1,
            "name": "Temperature",
            "unit": "ºC"
        },
    }
]


- Um empregado diz que um volume foi enviado
utilizando o protocolo HTTP, verbo PATCH,
utilizando o sitio: /appmonitor/api/volume/{volumeId}/sent

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 10,
    "sentDate": "2024-10-31T00:00:00",
    "productId": 3, 
    "orderId": 600
}

OR

{
    "id": 10,
    "sentDate": "2024-10-31T00:00:00",
    "packageId": 9999, 
    "orderId": 601
}

- Um empregado diz que o volume foi entregue
utilizando o protocolo HTTP, verbo PACTH,
utilizando o sitio: /appmonitor/api/volume/{volumeId}/received

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 10,
    "sentDate": "2024-10-31T00:00:00",
    "receivedDate": "2024-11-31T00:00:00",
}

- Um empregado diz que a encomenda já foi entregue
utilizando o protocolo HTTP, verbo PATCH,
utilizando o sitio: /appmonitor/api/order/{orderId}/delivered

Resposta devolvida por este recurso segue o formato JSON: 

{
    "id": 600,
    "delivered": true
}


- Um sensor envia um valor para o sistema,
utilizando o protocolo HTTP, verbo PATCH,
para o sitio: /appmonitor/api/sensor/{sensorId}/add-value

Resposta enviada para este recurso segue o formato JSON: 

{
    "value": 20.0
}